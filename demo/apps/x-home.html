<dom-module id="x-home">
	<template>
	<iron-localstorage name="auth" value="{{auth}}"></iron-localstorage>
	<a href="#!/home/list">list</a>
	<a href="#!/home/detail">detail</a>
	<button on-click="test">test</button>
	<content select="lazy-pages"></content>
	</template>
	<script>
		Polymer({
			is:"x-home",
			behaviors:[
				lazyPageBehavior
			],
			properties:{
				status:{
					type:Object,
					computed:"config('status')"
				}
			},
			ready:function(){
				console.log(123);
				var a = this.isUndefined(false);
				console.log(a);
			},
			activeReady:function(){
				this.async(function(){
					console.log("activeReady",this.status);
				});
				
			},
			test:function(){

			}
		})
	</script>
</dom-module>


<dom-module id="x-home-list">
	<template>
	[[text]]
	<div>
		remark
	</div>
	<template is="dom-repeat" items="[[errors]]">
		<div>
			Error.[[index]] [[item]]
		</div>
	</template>
	<content select="lazy-pages"></content>
	</template>
	<script>
		Polymer({
			is:"x-home-list",
			behaviors:[
				lazyPageBehavior
			],
			case1:function(e){
				//模仿ajax response
				var data = e.detail.response;
				if(data.status==200){
					this.set("text","註冊成功");
					this.set("errors",[]);
				}else{
					this.set("text","註冊失敗");
					this.set("errors",data.errors);				
				}
			}
		})
	</script>
</dom-module>

<dom-module id="x-home-detail">
	<template>
	[[params.id]]
	<content select="lazy-pages"></content>
	</template>
	<script>
		Polymer({
			is:"x-home-detail"
		})
	</script>
</dom-module>
