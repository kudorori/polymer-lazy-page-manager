<dom-module id="x-home">
	<template>
	<iron-localstorage name="auth" value="{{auth}}"></iron-localstorage>
	<a href="#!/home/list">list</a>
	<a href="#!/home/detail">detail</a>
	<a href="#!/home/detail1">detail1</a>
	[[config.status]]
	[[storage.abc]]
	<button on-click="test">test</button>
	<content select="lazy-pages"></content>
	
	
	</template>
	<script>
		Polymer({
			is:"x-home",
			behaviors:[
				lazyPageBehavior
			],
			properties:{
				
			},
			ready:function(){
				console.log(this.config);
			},
			activeReady:function(){
				this.async(function(){
					console.log(this.config)
// 					console.log("activeReady",this.status);
				});
				
			},
			test:function(){
				this.dispatch("shared","abc","aaa");
				this.async(function(){
					console.log(this.getState());
				})
			}
		})
	</script>
</dom-module>


<dom-module id="x-home-list">
	<template>
	[[text]]
	<div>
		123
		remark [[abc]]
	</div>
	<template is="dom-repeat" items="[[errors]]">
		<div>
			Error.[[index]] [[item]]
		</div>
	</template>
	
	<content select="lazy-pages"></content>
	</template>
	<script>
		Polymer({
			is:"x-home-list",
			behaviors:[
				lazyPageBehavior
			],
			properties:{
				abc:{
					type:Object,
					statePath:"shared.abc"
				}
			},
			ready:function(){
				
			},
			case1:function(e){
				//模仿ajax response
				var data = e.detail.response;
				if(data.status==200){
					this.set("text","註冊成功");
					this.set("errors",[]);
				}else{
					this.set("text","註冊失敗");
					this.set("errors",data.errors);				
				}
			}
		})
	</script>
</dom-module>

<dom-module id="x-home-list-2">
	<template>
	testestgsetaafdfafsaf
	
	<content select="lazy-pages"></content>
	</template>
	<script>
		Polymer({
			is:"x-home-list-2",
			behaviors:[
				lazyPageBehavior
			],
			ready:function(){
				
			},
			case1:function(e){
				//模仿ajax response
				var data = e.detail.response;
				if(data.status==200){
					this.set("text","註冊成功");
					this.set("errors",[]);
				}else{
					this.set("text","註冊失敗");
					this.set("errors",data.errors);				
				}
			}
		})
	</script>
</dom-module>

<dom-module id="x-home-detail">
	<template>
	[[params.id]]
	detail
	<div style="width:500px;height:500px;background:red;"></div>
	<content></content>
	</template>
	<script>
		Polymer({
			is:"x-home-detail",
			properties:{
				
			},
			behaviors:[
				lazyDialogBehavior
			],
			ready:function(){
// 				this.open();
			}
		})
	</script>
</dom-module>
