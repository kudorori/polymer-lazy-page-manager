<link rel="import" href="../polymer-redux/polymer-redux.html" />
<script src="node_modules/redux/dist/redux.js"></script>

<script>
	var initState = {
		doc:{},
		config:{},
		shared:{},
		roles:[]
	}
	
	var reducer = function(state,action){
		if(!state){
			return initState;
		}
		switch(action.type){
			case "INIT":
				state = Object.assign(state,{
					config:action.config,
					doc:action.doc
				})
				break;
			case "ROLE":
				state.roles = action.value;
				break;
			case "SET_SHARED":
				var value = {};
				value[action.key]=action.value;
				state.shared = Object.assign(state.shared,value);
				break;
		}
		return state;
	}
	
	var store = Redux.createStore(reducer);
	var lazyPageReduxBehavior=PolymerRedux(store);
</script>
